# Databricks Asset Bundle configuration
# See https://docs.databricks.com/dev-tools/bundles/index.html

bundle:
  name: market_data_poc

include:
  - resources/dlt_pipeline.yml
  - resources/workflows.yml

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: ${var.databricks_host}
    variables:
      target_schema: "main"  # Required for DLT pipeline
      raw_bars_path: "/Volumes/main/default/raw_market_data/bars"
      bronze_catalog: "main"
      bronze_schema: "bronze"
      silver_catalog: "main"
      silver_schema: "silver"
      gold_catalog: "main"
      gold_schema: "gold"

  prod:
    mode: production
    workspace:
      host: ${var.databricks_host_prod}
    variables:
      target_schema: "main"
      raw_bars_path: "/Volumes/main/default/raw_market_data/bars"
      bronze_catalog: "main"
      bronze_schema: "bronze"
      silver_catalog: "main"
      silver_schema: "silver"
      gold_catalog: "main"
      gold_schema: "gold"
